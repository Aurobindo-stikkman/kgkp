"use client";
import Image from "next/image";
import { useState, useEffect, useRef } from "react";

import useInView from "@/app/components/useInView";
import card1 from "./assets/card-1.png";
import card2 from "./assets/card-2.png";
import card3 from "./assets/card-3.png";

const Page = () => {
  const [isMobile, setIsMobile] = useState(false);

  //carousel state
  const carouselIndex = useRef(1);
  const [currentCarouselIndex, setCurrentCarouselIndex] = useState(1);
  const [thresholdValue, setThresholdValue] = useState(0.95);

  // Chalk stroke view
  const chalkStrokeRef = useRef(null);
  const isChalkStrokeInView = useInView(chalkStrokeRef);

  useEffect(() => {
    if (isChalkStrokeInView) {
      const clipRect = document.getElementById("clipRect");
      if (clipRect) {
        clipRect.classList.add("revealed");
      }
    }
  }, [isChalkStrokeInView]);

  //carousel scroll with mouse or touch
  useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const element = entry.target as HTMLDivElement;
            const index = Number(element.dataset.id);
            carouselIndex.current = index;
            setCurrentCarouselIndex(index);
          }
        });
      },
      { threshold: thresholdValue }
    );

    const videoArr = Array.from(document.querySelectorAll(".observe"));
    videoArr.map((video) => observer.observe(video));

    return () => {
      videoArr.map((video) => observer.unobserve(video));
      observer.disconnect();
    };
  }, []);

  //carousel Scroll with buttons
  const handleScrollLeft = () => {
    if (carouselIndex.current > 1) {
      setThresholdValue(0.05);
      carouselIndex.current -= 1;
      setCurrentCarouselIndex((prev) => prev - 1);
      const element = document.querySelector(`.card-${carouselIndex.current}`);
      element?.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center",
      });
    }
  };

  const handleScrollRight = () => {
    if (carouselIndex.current < 3) {
      setThresholdValue(0.95);
      carouselIndex.current += 1;
      setCurrentCarouselIndex((prev) => prev + 1);
      const element = document.querySelector(`.card-${carouselIndex.current}`);
      element?.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center",
      });
    }
  };

  useEffect(() => {
    const resize = () => {
      setIsMobile(window.innerWidth < 1280);
    };
    resize();

    window.addEventListener("resize", resize);

    return () => window.removeEventListener("resize", resize);
  }, []);

  return (
    <div className="bg-[#75C0B1] py-[52px] xl:py-[124px] ">
      <h1 className="relative w-[201px] mx-auto h-[58px] text-[20px] font-[700] leading-[28.6px] text-[#1A2434] text-center xl:w-[652px] xl:h-[46px] xl:text-[38px] xl:leading-[45.99px] ">
        <span ref={chalkStrokeRef} className="relative z-10">
          Success Stories from Our Affiliates
        </span>
        {isMobile ? (
          <svg
            className={`absolute w-[164px] h-[27px] -bottom-2.5 -right-3 xl:hidden ${
              isChalkStrokeInView ? "chalkMark" : ""
            }`}
            viewBox="0 0 164 27"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <defs>
              <clipPath id="afiliate-successStory1">
                <rect
                  id="clipRect"
                  x="0"
                  y="0"
                  width="0"
                  height="82"
                  fill="white"
                />
              </clipPath>
            </defs>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              fill="#FFB31F"
              stroke="transparent"
              strokeWidth="3"
              strokeLinecap="butt"
              clipPath="url(#afiliate-successStory1)"
              d="M149.845 12.2549C149.504 12.4754 145.499 12.0514 144.857 11.7324C144.118 11.3635 142.205 11.0863 141.768 11.287C141.454 11.4374 141.29 11.3877 141.33 11.1476C141.384 10.7675 140.141 10.5794 139.663 10.8901C139.513 10.9803 138.939 10.8912 138.378 10.682C137.613 10.4032 137.189 10.4338 136.739 10.8345C136.316 11.2051 136.07 11.2355 135.905 10.9357C135.563 10.2862 133.909 9.89868 133.172 10.2898C132.789 10.4903 132.543 10.4907 132.57 10.2907C132.638 9.81057 125.777 8.85079 120.051 8.53932C119.45 8.51021 117.919 8.36249 116.648 8.22439C112.917 7.80995 111.838 7.88155 112.003 8.50131C112.127 8.97112 112.031 8.95127 111.32 8.34233C110.868 7.953 110.417 7.69367 110.321 7.76381C110.226 7.83396 108.996 7.77579 107.588 7.64788C106.181 7.51998 104.65 7.56226 104.186 7.73295C103.626 7.94379 103.271 7.92432 103.147 7.6745C103.024 7.41468 102.805 7.37501 102.478 7.5455C102.205 7.6859 101.644 7.67674 101.22 7.52737C100.715 7.34812 100.428 7.41855 100.387 7.72861C100.32 8.19871 99.5408 8.20987 97.8458 7.7724C97.1213 7.58348 97.0258 7.67362 97.1635 8.38341C97.315 9.17319 97.3013 9.18321 96.6991 8.50411C96.2611 8.00476 95.9466 7.88523 95.6327 8.08569C95.3187 8.28616 95.141 8.25643 95.0039 7.96663C94.8669 7.68683 94.4432 7.66747 93.6237 7.89869C92.9135 8.09975 92.039 8.08105 91.4374 7.85194C90.6854 7.57306 90.4122 7.60347 90.3581 7.97355C90.3176 8.30361 89.9488 8.40416 89.3064 8.26512C88.3769 8.0765 87.7757 8.0774 83.6631 8.29353C82.7477 8.34489 81.5726 8.35664 81.067 8.33739C79.7551 8.26935 78.8263 8.48073 78.7721 8.85081C78.7451 9.03085 78.2941 9.01152 77.7609 8.80232C76.6945 8.39391 74.3031 8.30747 69.7533 8.51425C64.2743 8.76241 62.6894 8.90477 60.7634 9.34764C59.7117 9.58921 58.7417 9.74065 58.5913 9.68088C58.4409 9.6211 58.3045 9.7313 58.2774 9.91134C58.2503 10.0914 57.9089 10.1919 57.5262 10.1225C57.1435 10.053 55.7364 10.2551 54.4114 10.5671C53.0864 10.8791 49.9853 11.3337 47.5125 11.5674C40.6403 12.2176 34.0554 13.0674 33.7962 13.3378C33.6734 13.468 33.0997 13.5989 32.5395 13.6197C31.6651 13.661 31.4877 13.8413 31.3525 14.8215C31.2715 15.4616 31.0263 15.9519 30.8213 15.9123C30.6026 15.8726 30.602 15.5126 30.7926 15.0523C31.1194 14.2918 31.0921 14.2618 30.0538 14.4334C29.4528 14.5343 28.7016 14.7654 28.3739 14.9459C28.0462 15.1264 27.1037 15.3478 26.2704 15.439C25.4506 15.5203 24.0163 15.8224 23.0876 16.1038C22.1588 16.3852 20.9293 16.567 20.3553 16.4978C19.7813 16.4387 19.2895 16.4994 19.2624 16.6395C19.2489 16.7795 19.003 16.7599 18.7158 16.6003C18.3876 16.4108 18.1691 16.5111 18.1286 16.8612C18.0881 17.1612 17.856 17.3416 17.61 17.2619C17.1178 17.0927 15.9565 17.2344 15.0689 17.5557C14.7411 17.6762 14.2221 17.827 13.9079 17.8874C13.5937 17.9479 12.4056 18.4297 11.2723 18.9614C9.34695 19.8442 8.70579 20.5552 9.33511 21.0643C9.82761 21.4635 12.122 20.6401 12.5445 19.9195C12.7762 19.5191 13.049 19.2187 13.1447 19.2286C13.2404 19.2484 13.1997 19.4685 13.0498 19.7187C12.6818 20.3393 13.1601 20.3786 14.5393 19.8365C15.1675 19.5856 15.8096 19.4846 15.9601 19.6044C16.1106 19.7242 16.2471 19.684 16.2742 19.5139C16.3013 19.3439 17.6128 19.1619 19.1978 19.1096C20.7827 19.0572 22.2719 18.925 22.5041 18.8146C22.7362 18.7043 23.4877 18.6832 24.171 18.7622C24.8543 18.8411 25.6332 18.81 25.8926 18.6896C26.152 18.5692 26.7124 18.6284 27.1226 18.8378C27.6012 19.0771 28.0111 19.0664 28.243 18.8061C28.5432 18.4856 28.7345 18.5154 29.2817 18.9545C29.8426 19.4137 30.0749 19.4034 30.7847 18.9023C31.4945 18.3913 31.6038 18.3911 31.5362 18.8812C31.4686 19.3313 31.6737 19.441 32.4798 19.3998C33.04 19.3789 33.6001 19.2681 33.7092 19.158C34.2141 18.6972 35.2391 18.7757 35.1715 19.2758C35.1309 19.5658 35.2815 19.7156 35.5409 19.6252C35.7868 19.5349 36.5246 19.5338 37.1943 19.6128C37.864 19.6918 38.67 19.6206 38.9841 19.4501C39.4346 19.2094 39.585 19.2492 39.6948 19.609C39.7772 19.8889 39.8728 19.8288 39.9406 19.4587C40.0219 19.0085 40.2404 18.9282 40.7463 19.1475C41.1838 19.3368 41.3751 19.3065 41.2517 19.0567C41.1284 18.8069 41.3333 18.7766 41.7982 18.9859C42.3314 19.2151 42.6319 19.1347 42.8499 18.7143C43.0134 18.3841 43.3001 18.2337 43.4917 18.3834C43.6695 18.5331 44.0929 18.4125 44.4068 18.122C44.9526 17.6312 44.9936 17.6411 44.9261 18.1812C44.8856 18.5013 45.0227 18.7911 45.214 18.8308C45.419 18.8705 45.5692 18.7803 45.569 18.6403C45.5688 18.5003 45.6229 18.1002 45.6906 17.7401C45.8263 17.1099 45.8264 17.1099 46.2647 17.8392C46.5387 18.2988 46.7301 18.4186 46.7844 18.1485C46.825 17.8784 47.0982 17.828 47.4948 18.0274C47.864 18.2069 48.3558 18.1661 48.6697 17.9157C48.9563 17.6852 49.4343 17.5345 49.7077 17.5841C50.0084 17.6337 50.1448 17.4935 50.0215 17.2537C49.8707 16.9539 50.103 16.9435 50.7866 17.2325C51.5933 17.5713 51.7299 17.5411 51.6062 17.0613C51.4963 16.6215 51.6055 16.5613 52.0978 16.8006C52.467 16.98 52.9588 16.9393 53.2591 16.6888C53.5457 16.4584 54.092 16.3176 54.4611 16.387C54.8301 16.4565 55.1579 16.356 55.1849 16.176C55.212 15.9959 55.5671 15.9054 55.9772 15.9748C56.4009 16.0541 56.6467 15.9438 56.537 15.7239C56.4137 15.4741 56.6733 15.4737 57.2612 15.7229C57.7945 15.9421 58.1771 15.9615 58.2178 15.7614C58.2448 15.5714 58.6684 15.5308 59.1605 15.67C59.6526 15.8093 60.0625 15.7887 60.0896 15.6187C60.1166 15.4486 60.3352 15.3883 60.5676 15.4679C61.0187 15.6173 62.3849 15.4152 64.379 14.8823C64.98 14.7214 65.6904 14.6303 65.9638 14.6799C66.2371 14.7295 66.7832 14.3687 67.165 13.8681C67.5878 13.3275 68.1476 13.0166 68.5713 13.096C68.9677 13.1654 69.3092 13.0949 69.3226 12.9249C69.3766 12.4848 71.7128 12.2313 72.0413 12.6408C72.4931 13.2002 74.2009 13.0376 74.4732 12.4072C74.6911 11.9269 75.0737 11.8863 76.5772 12.1841C77.5886 12.3826 78.8732 12.4707 79.4196 12.3699C80.4851 12.1883 85.7324 12.3304 86.9079 12.5687C87.2906 12.6481 87.8371 12.5973 88.1102 12.4469C88.3832 12.2965 88.8068 12.2859 89.0529 12.4055C89.2991 12.5351 90.0506 12.524 90.72 12.403C91.3893 12.272 92.5918 12.2802 93.3708 12.4191C94.4369 12.6075 94.9697 12.5167 95.4609 12.036C96.1159 11.415 96.1295 11.415 96.5542 12.1443C96.9241 12.7838 97.1018 12.8535 97.812 12.5925C98.2627 12.4318 98.7819 12.421 98.9598 12.5707C99.1376 12.7205 99.5475 12.6999 99.8752 12.5394C100.189 12.3689 100.667 12.3582 100.941 12.5078C101.242 12.6773 101.556 12.5169 101.747 12.0966C102.06 11.4261 102.073 11.4261 102.512 12.1555C102.909 12.8049 102.964 12.8248 103.031 12.3347C103.099 11.7946 103.673 11.7237 105.012 12.0917C105.354 12.1912 105.655 12.1008 105.682 11.9107C105.709 11.7207 106.132 11.6301 106.61 11.7093C107.089 11.7986 107.622 11.7178 107.785 11.5376C108.004 11.3073 108.14 11.3271 108.291 11.6368C108.401 11.8667 108.77 12.0161 109.098 11.9556C109.835 11.8345 109.67 10.9548 108.739 9.95617C108.37 9.56672 108.247 9.27691 108.438 9.31662C108.957 9.40585 110.258 10.8539 110.203 11.274C110.176 11.484 110.696 11.6533 111.53 11.702C112.281 11.7409 113.593 11.9089 114.441 12.0777C115.288 12.2464 115.985 12.2354 116.012 12.0553C116.039 11.8753 117.105 11.9137 118.403 12.1518C119.688 12.3799 120.904 12.5081 121.109 12.4377C121.3 12.3675 122.257 12.376 123.241 12.4546C126.316 12.71 127.108 12.6988 127.531 12.4282C127.777 12.2678 128.242 12.3271 128.72 12.5964C129.144 12.8358 129.609 12.9551 129.759 12.8649C129.896 12.7747 130.784 12.7833 131.741 12.8919C135.964 13.3656 139.968 13.5897 140.391 13.379C140.637 13.2487 141.156 13.2779 141.552 13.4273C143.056 14.0251 150.232 15.3644 151.503 15.2925C152.637 15.2208 152.869 15.0604 153.004 14.2602C153.14 13.45 153.044 13.3202 152.32 13.3113C151.855 13.3119 151.253 13.0328 150.98 12.6832C150.391 11.9441 150.336 11.9242 149.831 12.245L149.845 12.2549ZM106.362 9.96971C106.335 10.1498 106.144 10.27 105.939 10.2303C105.734 10.1906 105.679 10.0307 105.829 9.87051C105.979 9.71028 106.17 9.59 106.252 9.60988C106.334 9.62975 106.389 9.78967 106.362 9.96971ZM107.183 11.0485C106.774 11.3191 106.541 10.7594 106.895 10.3589C107.168 10.0585 107.25 10.0784 107.333 10.4383C107.388 10.6882 107.32 10.9583 107.183 11.0485ZM90.5244 9.53331C90.4973 9.71335 90.3062 9.83363 90.1012 9.79394C89.8962 9.75424 89.8413 9.59432 89.9913 9.4341C90.1414 9.27388 90.3325 9.15359 90.4145 9.17347C90.4966 9.19335 90.5514 9.35327 90.5244 9.53331ZM67.1499 12.8581C67.1228 13.0382 66.9317 13.1585 66.7267 13.1188C66.5216 13.0791 66.4667 12.9191 66.6168 12.7589C66.7669 12.5987 66.958 12.4784 67.04 12.4983C67.122 12.5182 67.1769 12.6781 67.1499 12.8581ZM66.6052 14.1289C66.5781 14.309 66.4007 14.4292 66.1957 14.3996C65.9906 14.3599 65.8537 14.1901 65.8808 14C65.9079 13.82 66.0853 13.6997 66.2903 13.7294C66.4953 13.7691 66.6322 13.9389 66.6052 14.1289ZM62.4792 14.5651C62.4251 14.9152 61.7146 14.9362 61.5501 14.5965C61.4542 14.3866 61.618 14.2664 61.9323 14.3159C62.2467 14.3754 62.4928 14.4851 62.4792 14.5651ZM35.6044 16.3751C35.5504 16.8052 35.0725 17.0159 34.7578 16.7564C34.4158 16.4769 34.8113 15.9463 35.3033 16.0356C35.4946 16.0653 35.6315 16.2251 35.6044 16.3751ZM41.8649 17.8958C41.7148 18.056 41.8654 18.2358 42.2208 18.2953C43.1228 18.4539 42.6995 18.5946 41.3057 18.5866C39.9256 18.5887 39.7746 18.1389 41.0449 17.817C42.1513 17.5354 42.1923 17.5453 41.8649 17.8858L41.8649 17.8958ZM31.7122 17.7909C31.6852 17.971 31.5897 18.1111 31.5077 18.0912C31.4257 18.0714 31.2751 17.8916 31.1655 17.6917C31.0559 17.4919 31.165 17.3517 31.37 17.3914C31.575 17.4311 31.7256 17.6109 31.7122 17.7909Z"
            />
          </svg>
        ) : (
          <svg
            className={`absolute hidden bottom-[-48px] xl:block xl:right-auto xl:-left-3.5 xl:w-[344px] xl:h-[84px]  ${
              isChalkStrokeInView ? "chalkMark" : ""
            }`}
            viewBox="0 0 358 84"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <defs>
              <clipPath id="affiliate-success-story">
                <rect
                  id="clipRect"
                  x="0"
                  y="0"
                  width="0"
                  height="82"
                  fill="white"
                />
              </clipPath>
            </defs>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              fill="#FFB31F"
              stroke="transparent"
              strokeWidth="3"
              strokeLinecap="butt"
              clipPath="url(#affiliate-success-story)"
              d="M330.543 34.1577C329.748 34.7668 320.573 33.5676 319.098 32.654C317.403 31.6071 313.026 30.8266 312.03 31.3882C311.293 31.8069 310.938 31.6642 311.015 30.9884C311.13 29.9225 308.295 29.38 307.203 30.2651C306.878 30.5316 305.546 30.2651 304.244 29.6655C302.501 28.8661 301.524 28.9708 300.499 30.0843C299.522 31.1407 298.957 31.2264 298.593 30.3698C297.817 28.533 294.034 27.4194 292.33 28.5234C291.458 29.0945 290.874 29.085 290.941 28.5139C291.094 27.1529 275.378 24.4024 262.257 23.4983C260.868 23.4031 257.363 22.9939 254.461 22.5941C245.928 21.414 243.437 21.5948 243.811 23.365C244.089 24.6975 243.878 24.6404 242.25 22.9177C241.216 21.8232 240.181 21.0809 239.951 21.2617C239.721 21.4521 236.906 21.2903 233.697 20.9191C230.489 20.5479 226.974 20.6526 225.892 21.157C224.589 21.7661 223.785 21.6995 223.507 20.9762C223.22 20.2243 222.731 20.1196 221.956 20.6241C221.333 21.0333 220.04 21.0047 219.073 20.5669C217.923 20.0435 217.263 20.2434 217.167 21.1285C217.023 22.4514 215.223 22.4894 211.353 21.2522C209.697 20.7192 209.486 20.9572 209.792 22.9653C210.137 25.2114 210.099 25.2209 208.72 23.3079C207.704 21.8899 207.005 21.5472 206.287 22.1278C205.578 22.7083 205.157 22.6132 204.85 21.7947C204.544 21.0047 203.567 20.9381 201.69 21.5853C200.062 22.1468 198.051 22.0897 196.671 21.4521C194.957 20.6621 194.325 20.7478 194.21 21.7947C194.105 22.7179 193.271 23.0034 191.787 22.6227C189.651 22.0802 188.272 22.0897 178.858 22.6798C176.741 22.813 174.069 22.8606 172.91 22.7845C169.884 22.5846 167.777 23.1652 167.662 24.2216C167.604 24.726 166.57 24.6594 165.344 24.0788C162.911 22.9177 157.414 22.6608 147.003 23.2128C134.448 23.8885 130.808 24.2977 126.403 25.5255C123.999 26.2012 121.758 26.62 121.422 26.4582C121.087 26.2964 120.771 26.5914 120.714 27.1054C120.656 27.6193 119.881 27.8858 118.99 27.6859C118.099 27.486 114.891 28.0571 111.855 28.9422C108.819 29.8273 101.703 31.0931 96.033 31.7403C80.2975 33.5486 65.1749 35.9279 64.5811 36.6798C64.2842 37.051 62.9913 37.4126 61.6983 37.4792C59.6967 37.5839 59.2944 38.0884 58.988 40.8865C58.7868 42.6852 58.2409 44.0748 57.7812 43.9701C57.2928 43.8654 57.2736 42.8375 57.7238 41.5336C58.4804 39.3732 58.4133 39.2971 56.0286 39.7729C54.659 40.0489 52.9255 40.6961 52.1689 41.2196C51.4123 41.743 49.2383 42.3616 47.3515 42.5996C45.4648 42.8375 42.1798 43.675 40.0536 44.465C37.9274 45.2549 35.1117 45.7593 33.7805 45.5785C32.4588 45.3977 31.3383 45.5785 31.2904 45.9687C31.2425 46.3589 30.6774 46.3113 30.0262 45.864C29.2696 45.3406 28.7811 45.6071 28.6758 46.5969C28.58 47.4534 28.0437 47.9578 27.4882 47.7294C26.3581 47.2631 23.7051 47.6342 21.6747 48.5479C20.9373 48.881 19.7497 49.2998 19.0314 49.4806C18.3131 49.6614 15.5836 51.0129 12.969 52.4976C8.55382 55.0007 7.06934 56.9803 8.52509 58.4459C9.64564 59.569 14.9132 57.2753 15.8996 55.2291C16.436 54.1156 17.0585 53.24 17.2883 53.2875C17.5086 53.3351 17.4128 53.9633 17.0585 54.6866C16.2061 56.4473 17.3075 56.552 20.4776 55.0102C21.9238 54.3059 23.3891 54.0109 23.7339 54.3535C24.0691 54.6961 24.3947 54.5724 24.4522 54.087C24.5096 53.6016 27.5169 53.0877 31.1467 52.9544C34.7765 52.8212 38.1765 52.45 38.7128 52.1455C39.2491 51.8314 40.9635 51.7743 42.5437 52.0122C44.1144 52.2502 45.8958 52.1645 46.4991 51.8219C47.1025 51.4792 48.3667 51.6601 49.3149 52.2406C50.4163 52.9068 51.3453 52.8783 51.8816 52.1645C52.5616 51.2604 53.0117 51.3365 54.2472 52.5737C55.5497 53.8776 56.0573 53.8586 57.6759 52.431C59.304 51.0034 59.553 50.9939 59.3998 52.3644C59.2561 53.6397 59.6967 53.9442 61.5643 53.8395C62.8572 53.7729 64.131 53.4684 64.3896 53.1733C65.558 51.879 67.8949 52.1074 67.7416 53.4969C67.6459 54.3249 68.0098 54.7437 68.594 54.4867C69.1495 54.2393 70.8543 54.2298 72.377 54.4582C73.8998 54.6866 75.7483 54.4962 76.4666 54.0204C77.5009 53.3446 77.8457 53.4398 78.0755 54.4677C78.2479 55.2576 78.4682 55.0863 78.631 54.0394C78.8226 52.7736 79.3302 52.5357 80.489 53.1543C81.4947 53.6968 81.9256 53.6016 81.6575 52.8878C81.3797 52.174 81.8394 52.0979 82.9217 52.6784C84.1284 53.3256 84.818 53.1067 85.316 51.9075C85.6991 50.9748 86.3599 50.5656 86.7813 50.9843C87.1932 51.4031 88.1509 51.0795 88.8883 50.261C90.143 48.8905 90.2292 48.9001 90.0855 50.4323C89.9993 51.346 90.2962 52.1645 90.7559 52.2692C91.206 52.3739 91.57 52.1264 91.5604 51.7267C91.5508 51.327 91.6753 50.1849 91.8477 49.1951C92.1446 47.4058 92.1638 47.4153 93.1598 49.4901C93.7919 50.794 94.2325 51.1271 94.3378 50.3562C94.4432 49.5853 95.0561 49.4616 95.9755 50.0231C96.8279 50.537 97.9581 50.4133 98.6572 49.7185C99.318 49.0618 100.4 48.6336 101.052 48.7858C101.732 48.9381 102.048 48.5384 101.779 47.8436C101.454 46.9871 101.961 46.9775 103.532 47.8056C105.371 48.7668 105.697 48.6907 105.409 47.3392C105.151 46.0924 105.409 45.9211 106.539 46.5969C107.382 47.1108 108.522 46.9775 109.211 46.2923C109.872 45.6356 111.117 45.2454 111.97 45.4357C112.822 45.6261 113.569 45.3596 113.627 44.8361C113.684 44.3222 114.498 44.0652 115.437 44.2746C116.404 44.4935 116.959 44.1795 116.72 43.5608C116.442 42.847 117.026 42.847 118.367 43.5513C119.584 44.189 120.484 44.2366 120.541 43.675C120.599 43.1516 121.566 43.0374 122.687 43.4371C123.807 43.8273 124.765 43.7702 124.822 43.3039C124.87 42.8375 125.378 42.6472 125.933 42.8851C126.958 43.3229 130.09 42.7328 134.658 41.2481C136.028 40.8008 137.666 40.5533 138.298 40.6961C138.93 40.8389 140.165 39.811 141.046 38.4119C142.004 36.8892 143.297 36.0231 144.274 36.242C145.174 36.4419 145.95 36.223 145.998 35.7566C146.142 34.5003 151.486 33.8151 152.223 34.9572C153.238 36.5466 157.175 36.0802 157.816 34.3005C158.305 32.949 159.176 32.8348 162.653 33.6818C164.98 34.2529 167.92 34.4908 169.175 34.2243C171.608 33.7104 183.646 34.1291 186.338 34.8334C187.228 35.0618 188.464 34.9096 189.105 34.5003C189.737 34.0816 190.714 34.034 191.279 34.3861C191.835 34.7383 193.559 34.7287 195.101 34.3576C196.643 33.9864 199.382 34.0149 201.192 34.4242C203.644 34.9667 204.86 34.7002 205.99 33.3678C207.475 31.5975 207.513 31.6071 208.49 33.6818C209.352 35.4996 209.744 35.6805 211.353 34.9667C212.388 34.5194 213.575 34.4908 213.987 34.9096C214.409 35.3283 215.347 35.2903 216.075 34.8144C216.803 34.3385 217.895 34.3005 218.508 34.7192C219.197 35.1951 219.906 34.7478 220.356 33.5486C221.084 31.6451 221.113 31.6451 222.118 33.7104C223.009 35.5472 223.162 35.6043 223.316 34.2148C223.488 32.6825 224.781 32.4922 227.846 33.5391C228.631 33.8056 229.32 33.5771 229.388 33.0251C229.445 32.4731 230.403 32.2257 231.514 32.4731C232.625 32.7206 233.841 32.5112 234.215 32.0068C234.713 31.3406 235.029 31.4262 235.364 32.2923C235.622 32.949 236.456 33.3678 237.222 33.206C238.907 32.8633 238.543 30.3888 236.398 27.5527C235.565 26.4582 235.258 25.6397 235.709 25.7444C236.887 26.0109 239.884 30.1033 239.75 31.2739C239.683 31.8735 240.89 32.3494 242.796 32.4827C244.529 32.6064 247.527 33.0918 249.452 33.5581C251.377 34.034 253.005 34.0054 253.063 33.501C253.12 32.9966 255.581 33.1203 258.541 33.777C261.491 34.4337 264.287 34.8049 264.737 34.605C265.188 34.4052 267.381 34.4242 269.612 34.6526C276.652 35.3759 278.481 35.3664 279.439 34.586C280.004 34.1291 281.067 34.31 282.159 35.0618C283.145 35.7376 284.208 36.0802 284.534 35.8137C284.859 35.5567 286.89 35.5853 289.064 35.8899C298.727 37.2318 307.931 37.8885 308.889 37.2984C309.463 36.9463 310.661 37.0129 311.542 37.4507C314.97 39.1448 331.424 42.9708 334.345 42.7519C336.941 42.552 337.477 42.1047 337.784 39.8491C338.1 37.5649 337.87 37.1842 336.222 37.1747C335.15 37.1747 333.79 36.3752 333.148 35.3759C331.817 33.2916 331.673 33.2345 330.505 34.1387L330.543 34.1577ZM230.872 27.5241C230.815 28.0381 230.374 28.3807 229.895 28.2665C229.416 28.1618 229.292 27.6954 229.637 27.2481C229.972 26.7913 230.412 26.4582 230.613 26.5058C230.815 26.5533 230.929 27.0102 230.872 27.5241ZM232.74 30.5697C231.791 31.3406 231.255 29.7417 232.088 28.6281C232.72 27.7811 232.912 27.8287 233.084 28.847C233.199 29.5418 233.046 30.3222 232.74 30.5697ZM194.564 26.2012C194.507 26.7151 194.066 27.0578 193.588 26.9436C193.109 26.8389 192.984 26.3725 193.329 25.9252C193.664 25.4684 194.105 25.1353 194.306 25.1829C194.507 25.2304 194.622 25.6873 194.564 26.2012ZM140.97 35.4996C140.912 36.0136 140.472 36.3562 139.993 36.242C139.514 36.1373 139.39 35.671 139.734 35.2236C140.07 34.7668 140.51 34.4337 140.711 34.4813C140.912 34.5289 141.027 34.9857 140.97 35.4996ZM139.725 39.0782C139.667 39.5921 139.246 39.9347 138.796 39.8396C138.346 39.7349 138.02 39.2304 138.077 38.7165C138.135 38.2026 138.556 37.8599 139.006 37.9551C139.457 38.0598 139.782 38.5642 139.725 39.0782ZM130.262 40.2964C130.147 41.2862 128.519 41.3528 128.146 40.382C127.916 39.792 128.318 39.4398 129.027 39.6016C129.736 39.7634 130.291 40.0775 130.272 40.3059L130.262 40.2964ZM68.6706 45.3025C68.5365 46.5302 67.4639 47.1203 66.7264 46.3875C65.9411 45.5975 66.8605 44.1033 67.9811 44.3508C68.412 44.4459 68.7185 44.8742 68.6706 45.312V45.3025ZM83.027 49.6139C82.6918 50.0707 83.0558 50.5846 83.8411 50.7559C85.9002 51.2128 84.9329 51.5935 81.7532 51.5744C78.5927 51.5554 78.2384 50.2991 81.1499 49.4045C83.6974 48.624 83.7645 48.6336 83.0366 49.6139H83.027ZM59.7541 49.2617C59.6967 49.7756 59.486 50.1659 59.2849 50.1183C59.0837 50.0707 58.739 49.5663 58.5091 48.9857C58.2792 48.4052 58.4995 48.0149 58.9784 48.1291C59.4573 48.2338 59.8116 48.7478 59.7541 49.2617Z"
            />
          </svg>
        )}
      </h1>

      <div className="hidden xl:block mx-auto mt-6 w-[664px] h-[50px] text-lg font-normal leading-[25px] text-center text-[#1A2434] ">
        Donâ€™t just take our word for it. See how our affiliates are making a
        difference in their communities while earning rewards.
      </div>

      <section className="mt-8 relative overflow-hidden xl:mt-[88px] ">
        <div className="carousel px-[26px] w-full h-full flex gap-x-6 lg:justify-center lg:overflow-hidden overflow-x-scroll xl:gap-12">
          {/* Card - 1 */}
          <section
            data-id={1}
            className="observe card-1 w-[298px] h-[198px] shrink-0 bg-white rounded-[13px] p-6 xl:w-[335px] xl:p-[26.47px] xl:order-2 "
          >
            <section className="flex items-center gap-[13.24px] ">
              <Image
                src={card1}
                alt="Card - 1"
                className="rounded-full overflow-hidden shrink-0 w-[74px] h-[74px] object-cover xl:w-[75.29px] xl:h-[75.29px] "
              />

              <section className="grow ">
                <div className="text-[15px] font-[700] leading-[18px] opacity-[70%] text-[#1A2434] xl:text-[16.55px] xl:leading-[19.86px] ">
                  Dr. Rajiv Kapoor
                </div>

                <div className="mt-[6.62px] text-[14px] font-[500] opacity-[70%] leading-[16.8px] text-[#1A2434] xl:text-[13.24px] xl:leading-[15.89px] ">
                  Paediatrician
                </div>
              </section>
            </section>

            <section className="mt-3.5 text-[14px] font-[400] leading-[19.6px] opacity-[70%] text-[#1A2434] xl:mt-[13.24px] xl:h-[57px] xl:text-[13.24px] xl:leading-[18.53px] ">
              An excellent program that truly enhances children's development.
              Parents appreciate the guidance
            </section>
          </section>

          {/* Card - 2 */}
          <section
            data-id={2}
            className="observe card-2 w-[298px] h-[198px] shrink-0 bg-white rounded-[13px] p-6 xl:w-[335px] xl:p-[26.47px] xl:order-1 "
          >
            <section className="flex items-center gap-[13.24px] ">
              <Image
                src={card2}
                alt="Card - 2"
                className="rounded-full overflow-hidden shrink-0 w-[74px] h-[74px] object-cover xl:w-[75.29px] xl:h-[75.29px] "
              />

              <section className="grow ">
                <div className="text-[15px] font-[700] leading-[18px] opacity-[70%] text-[#1A2434] xl:text-[16.55px] xl:leading-[19.86px] ">
                  Dr. Anjali Mehta
                </div>

                <div className="mt-[6.62px] text-[14px] font-[500] opacity-[70%] leading-[16.8px] text-[#1A2434] xl:text-[13.24px] xl:leading-[15.89px] ">
                  Paediatrician
                </div>
              </section>
            </section>

            <section className="mt-3.5 text-[14px] font-[400] leading-[19.6px] opacity-[70%] text-[#1A2434] xl:mt-[13.24px] xl:h-[57px] xl:text-[13.24px] xl:leading-[18.53px] ">
              KGKP empowers parents with valuable resources, making my referrals
              impactful and rewarding.
            </section>
          </section>

          {/* Card - 3 */}
          <section
            data-id={3}
            className="observe card-3 w-[298px] h-[198px] shrink-0 bg-white rounded-[13px] p-6 xl:w-[335px] xl:p-[26.47px] xl:order-3 "
          >
            <section className="flex items-center gap-[13.24px] ">
              <Image
                src={card3}
                alt="Card - 3"
                className="rounded-full overflow-hidden shrink-0 w-[74px] h-[74px] object-cover xl:w-[75.29px] xl:h-[75.29px] "
              />

              <section className="grow ">
                <div className="text-[15px] font-[700] leading-[18px] opacity-[70%] text-[#1A2434] xl:text-[16.55px] xl:leading-[19.86px] ">
                  Ms. Neha Sharma
                </div>

                <div className="mt-[6.62px] text-[14px] font-[500] opacity-[70%] leading-[16.8px] text-[#1A2434] xl:text-[13.24px] xl:leading-[15.89px] ">
                  Teacher
                </div>
              </section>
            </section>

            <section className="mt-3.5 text-[14px] font-[400] leading-[19.6px] opacity-[70%] text-[#1A2434] xl:mt-[13.24px] xl:h-[57px] xl:text-[13.24px] xl:leading-[18.53px] ">
              KGKP allows me to support my students' growth beyond the
              classroom, with visible results.
            </section>
          </section>
        </div>

        {/* carousel scroll buttons */}
        <>
          {currentCarouselIndex > 1 && (
            <button
              onClick={handleScrollLeft}
              className="shadow-md h-7 w-7 flex justify-center items-center absolute top-1/2 left-5 transform -translate-y-1/2 bg-white rounded-full lg:hidden"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 16 16"
                fill="none"
                transform="scale(-1, 1)"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g id="icon-chevron-left">
                  <path
                    id="Shape"
                    d="M6.47157 3.52851C6.21122 3.26816 5.78911 3.26816 5.52876 3.52851C5.26841 3.78886 5.26841 4.21097 5.52876 4.47132L9.05735 7.99992L5.52876 11.5285C5.26841 11.7889 5.26841 12.211 5.52876 12.4713C5.78911 12.7317 6.21122 12.7317 6.47157 12.4713L10.4716 8.47132C10.7319 8.21097 10.7319 7.78886 10.4716 7.52851L6.47157 3.52851Z"
                    fill="#460C04"
                  />
                </g>
              </svg>
            </button>
          )}
          {currentCarouselIndex < 3 && (
            <button
              onClick={handleScrollRight}
              className="shadow-md h-7 w-7 flex justify-center items-center absolute top-1/2 right-5 transform -translate-y-1/2 bg-white rounded-full lg:hidden"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g id="icon-chevron-right">
                  <path
                    id="Shape"
                    d="M6.47157 3.52851C6.21122 3.26816 5.78911 3.26816 5.52876 3.52851C5.26841 3.78886 5.26841 4.21097 5.52876 4.47132L9.05735 7.99992L5.52876 11.5285C5.26841 11.7889 5.26841 12.211 5.52876 12.4713C5.78911 12.7317 6.21122 12.7317 6.47157 12.4713L10.4716 8.47132C10.7319 8.21097 10.7319 7.78886 10.4716 7.52851L6.47157 3.52851Z"
                    fill="#460C04"
                  />
                </g>
              </svg>
            </button>
          )}
        </>
      </section>
    </div>
  );
};

export default Page;
